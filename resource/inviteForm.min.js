var formErrorB=true
var formError=true
function empty(){toastr.options.preventDuplicates=true;var x;var y;x=document.getElementById("txtEmail").value;var emailReg=/.+@.+/
if(x!=""){if(x.match(emailReg)){formError=false}else{formError=true
toastr.warning('Please Enter a Valid Email!')
event.preventDefault()}}else{formError=true
toastr.warning('Please Enter a Valid Email!')
event.preventDefault()}}
$("#signup-submit").click(function(event){toastr.options.preventDuplicates=true;event.preventDefault();if(formError===false){$("#signup-submit").attr("disabled",true);var subscriberEmail=$("#txtEmail").val();function writeBetaAccessData(email){var updates={}
var date=new Date()
var createdAt=date.toISOString()
var newBetaAccessRequestKey=firebase.database().ref().child('inviteRequest').push().key;updates[`/inviteRequest/${newBetaAccessRequestKey}/email`]=email||''
updates[`/inviteRequest/${newBetaAccessRequestKey}/createdAt`]=createdAt||''
firebase.database().ref().update(updates).then(()=>{$("#txtEmail").val("");$("#signup-submit").removeAttr("disabled");toastr.success('You have been added to the Handshake Beta waitlist',{timeOut:8000})}).catch((error)=>{if(error){console.log('ERROR',error)
$("#signup-submit").removeAttr("disabled");toastr.warning('Doh! something went Wrong. Please try again')}})}
writeBetaAccessData(subscriberEmail)}})
function emptyB(){toastr.options.preventDuplicates=true;var x;var y;x=document.getElementById("txtEmailB").value;var emailReg=/.+@.+/
if(x!=""){if(x.match(emailReg)){formErrorB=false}else{formErrorB=true
toastr.warning('Please Enter a Valid Email!')
event.preventDefault()}}else{formErrorB=true
toastr.warning('Please Enter a Valid Email!')
event.preventDefault()}}
$("#signup-submitB").click(function(event){toastr.options.preventDuplicates=true;event.preventDefault();if(formErrorB===false){$("#signup-submitB").attr("disabled",true);var subscriberEmail=$("#txtEmailB").val();function writeBetaAccessData(email){var updates={}
var date=new Date()
var createdAt=date.toISOString()
var newBetaAccessRequestKey=firebase.database().ref().child('inviteRequest').push().key;updates[`/inviteRequest/${newBetaAccessRequestKey}/email`]=email||''
updates[`/inviteRequest/${newBetaAccessRequestKey}/createdAt`]=createdAt||''
firebase.database().ref().update(updates).then(()=>{$("#txtEmailB").val("");$("#signup-submitB").removeAttr("disabled");toastr.success('You have been added to the Handshake Beta waitlist',{timeOut:8000})}).catch((error)=>{if(error){console.log('ERROR',error)
$("#signup-submitB").removeAttr("disabled");toastr.warning('Doh! something went Wrong. Please try again')}})}
writeBetaAccessData(subscriberEmail)}})
$("#signup-submitB").click(function(event){event.preventDefault();if(formErrorB===false){var subscriberEmail=$("#txtEmailB").val();fullContactAPICall(subscriberEmail)}})
$("#signup-submit").click(function(event){event.preventDefault();if(formError===false){var subscriberEmail=$("#txtEmail").val();fullContactAPICall(subscriberEmail)}})
var fullContactAPICall=function(email){$.fullcontact.emailLookup('d61efe2bc5470757',email,function(obj){$("#txtEmail").val("");$("#signup-submit").removeAttr("disabled");$("#txtEmailB").val("");$("#signup-submitB").removeAttr("disabled");var dataFromFullContact=JSON.stringify(obj)
var status=obj.status
if(status===200){var fullName=(typeof obj.contactInfo.fullName!=='undefined')?obj.contactInfo.fullName:null
var photoURL=(typeof obj.photos[0].url!=='undefined')?obj.photos[0].url:null
var location=(typeof obj.demographics.locationDeduced.normalizedLocation!=='undefined')?obj.demographics.locationDeduced.normalizedLocation:null
if(typeof obj.socialProfiles!=='undefined'){var socialArrayType=[]
var socialArrayURL=[]
var socialArrayBio=[]
obj.socialProfiles.map(function(socialNetwork){if(typeof socialNetwork.type!=='undefined'){socialArrayType.push(socialNetwork.type)}
if(typeof socialNetwork.url!=='undefined'){socialArrayURL.push(socialNetwork.url)}
if(typeof socialNetwork.bio!=='undefined'){socialArrayBio.push(socialNetwork.bio)}})}
var linkedinIndex=socialArrayType.indexOf('linkedin')
linkedInURL=linkedinIndex!==-1?socialArrayURL[linkedinIndex]:null
if(linkedInURL){$('#linkedInURL').attr("href",linkedInURL)
$('#linkedInURL').css('display','inline');}
var googleIndex=socialArrayType.indexOf('google')
googleURL=googleIndex!==-1?socialArrayURL[googleIndex]:null
if(googleURL){$('#googleURL').attr("href",googleURL)
$('#googleURL').css('display','inline');}
var facebookIndex=socialArrayType.indexOf('facebook')
facebookURL=facebookIndex!==-1?socialArrayURL[facebookIndex]:null
if(facebookURL){$('#facebookURL').attr("href",facebookURL)
$('#facebookURL').css('display','inline');}
var twitterIndex=socialArrayType.indexOf('twitter')
twitterURL=twitterIndex!==-1?socialArrayURL[twitterIndex]:null
if(twitterURL){$('#twitterURL').attr("href",twitterURL)
$('#twitterURL').css('display','inline');}
var angellistIndex=socialArrayType.indexOf('angellist')
angellistURL=angellistIndex!==-1?socialArrayURL[angellistIndex]:null
if(angellistURL){$('#angellistURL').attr("href",angellistURL)
$('#angellistURL').css('display','inline');}
var githubIndex=socialArrayType.indexOf('github')
githubURL=githubIndex!==-1?socialArrayURL[githubIndex]:null
if(githubURL){$('#githubURL').attr("href",githubURL)
$('#githubURL').css('display','inline');}
if(socialArrayBio.length>0){var bio=socialArrayBio[0]
document.getElementById('modalBio').innerHTML=bio;}
if(fullName){document.getElementById('modalFullName').innerHTML=fullName;}
if(photoURL){$('#modalImage').attr("src",photoURL)}
if(location){document.getElementById('modalLocation').innerHTML=location;}
$('#myModal').modal();}});}